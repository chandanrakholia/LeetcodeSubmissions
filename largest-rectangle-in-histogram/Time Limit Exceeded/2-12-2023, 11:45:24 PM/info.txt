{"id":896703343,"lang":"cpp","lang_name":"C++","time":"1 month, 3 weeks","timestamp":1676225724,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/896703343/","is_pending":"Not Pending","title":"Largest Rectangle in Histogram","memory":"N/A","code":"class Solution {\nprivate:\n    void print(vector<int> &v){\n        for(auto i: v){\n            cout<<i<<\" \";\n        }\n        cout<<endl;\n    }\n    vector<int> smallestright(vector<int>&h){\n        int n=h.size();\n        vector<int>v;\n        stack<pair<int,int>>st;\n        for(int i=n-1;i>=0;i--){\n            if(st.empty()){\n                v.push_back(n);\n            }\n            else if(h[i]>st.top().first){\n                v.push_back(st.top().second);\n            }\n            else{\n                while(!st.empty() and st.top().first>=h[i]){\n                    st.pop();\n                }\n                if(st.empty()){\n                    v.push_back(n);\n                }\n                else{\n                    v.push_back(st.top().second);\n                }\n            }\n            st.push({h[i],i});\n        }\n        reverse(v.begin(), v.end());\n        return v;\n    }\n    vector<int> smallestleft(vector<int>&h){\n        int n=h.size();\n        vector<int>v;\n        stack<pair<int,int>>st;\n        for(int i=0;i<n;i++){\n            if(st.empty()){\n                v.push_back(0);\n            }\n            else if(h[i]>st.top().first){\n                v.push_back(st.top().second+1);\n            }\n            else{\n                while(!st.empty() and st.top().first>=h[i]){\n                    st.pop();\n                }\n                if(st.empty()){\n                    v.push_back(0);\n                }\n                else{\n                    v.push_back(st.top().second+1);\n                }\n            }\n            st.push({h[i],i});\n        }\n        return v;\n    }\npublic:\n    int largestRectangleArea(vector<int>& heights) {\n        vector<int>right=smallestright(heights);\n        vector<int>left=smallestleft(heights);\n        // print(left);\n        int n=heights.size();\n        if(n==1) return heights[0];\n        int maxi=0;\n        print(left);\n        print(right);\n        for(int i=0;i<n;i++){\n            maxi=max(maxi, (right[i]-left[i])*heights[i]);\n        }\n        return maxi;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110","title_slug":"largest-rectangle-in-histogram","has_notes":false}